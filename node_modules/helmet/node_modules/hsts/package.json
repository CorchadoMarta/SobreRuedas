{
  "name": "hsts",
  "author": {
    "name": "Adam Baldwin",
    "email": "baldwin@andyet.net",
    "url": "http://andyet.net/team/baldwin"
  },
  "contributors": [
    {
      "name": "Evan Hahn",
      "email": "me@evanhahn.com",
      "url": "http://evanhahn.com"
    }
  ],
  "description": "HTTP Strict Transport Security middleware.",
  "version": "1.0.0",
  "license": "MIT",
  "keywords": [
    "helmet",
    "security",
    "express",
    "connect",
    "hsts",
    "https"
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/helmetjs/hsts.git"
  },
  "bugs": {
    "url": "https://github.com/helmetjs/hsts/issues"
  },
  "scripts": {
    "test": "standard && mocha"
  },
  "devDependencies": {
    "mocha": "^2.3.4",
    "sinon": "^1.17.2",
    "standard": "^5.4.1"
  },
  "dependencies": {
    "core-util-is": "1.0.2"
  },
  "standard": {
    "globals": [
      "describe",
      "beforeEach",
      "it"
    ]
  },
  "readme": "HTTP Strict Transport Security middlware\n========================================\n[![Build Status](https://travis-ci.org/helmetjs/hsts.svg?branch=master)](https://travis-ci.org/helmetjs/hsts)\n[![js-standard-style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg)](http://standardjs.com/)\n\nThis middleware adds the `Strict-Transport-Security` header to the response. This tells browsers, \"hey, only use HTTPS for the next period of time\". ([See the spec](http://tools.ietf.org/html/draft-ietf-websec-strict-transport-sec-04) for more.)\n\nThis will set the Strict Transport Security header, telling browsers to visit by HTTPS for the next ninety days:\n\n```javascript\nvar hsts = require('hsts')\n\nvar ninetyDaysInMilliseconds = 7776000000\napp.use(hsts({ maxAge: ninetyDaysInMilliseconds }))\n```\n\nYou can also include subdomains. If this is set on *example.com*, supported browsers will also use HTTPS on *my-subdomain.example.com*. Here's how you do that:\n\n```javascript\napp.use(hsts({\n  maxAge: 123000,\n  includeSubDomains: true\n}))\n```\n\nChrome lets you submit your site for baked-into-Chrome HSTS by adding `preload` to the header. You can add that with the following code, and then submit your site to the Chrome team at [hstspreload.appspot.com](https://hstspreload.appspot.com/).\n\n```javascript\napp.use(hsts({\n  maxAge: 10886400000,     // Must be at least 18 weeks to be approved by Google\n  includeSubDomains: true, // Must be enabled to be approved by Google\n  preload: true\n}))\n```\n\nThis'll be set if `req.secure` is true, a boolean auto-populated by Express. If you're not using Express, that value won't necessarily be set, so you have two options:\n\n```javascript\n// Set the header based on conditions\napp.use(hsts({\n  maxAge: 1234000,\n  setIf: function(req, res) {\n    return Math.random() < 0.5;\n  }\n}))\n\n// ALWAYS set the header\napp.use(hsts({\n  maxAge: 1234000,\n  force: true\n}))\n```\n\nNote that the max age is in milliseconds, even though the spec uses seconds. This will round to the nearest full second.\n\nThis only works if your site actually has HTTPS. It won't tell users on HTTP to *switch* to HTTPS, it will just tell HTTPS users to stick around. You can enforce this with the [express-enforces-ssl](https://github.com/aredo/express-enforces-ssl) module. This header is [somewhat well-supported by browsers](http://caniuse.com/#feat=stricttransportsecurity).\n",
  "readmeFilename": "README.md",
  "_id": "hsts@1.0.0",
  "dist": {
    "shasum": "9f20ec09ec5ef058b8685ca95d85f77fb2bab7ad"
  },
  "_from": "hsts@1.0.0",
  "_resolved": "https://registry.npmjs.org/hsts/-/hsts-1.0.0.tgz"
}
